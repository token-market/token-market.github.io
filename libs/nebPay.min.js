require=function i(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,r){"use strict";var n,o,i=((n=document.createElement("style")).type="text/css",document.head.appendChild(n),o=n.sheet,function(e,t,r){r=r||0,o.insertRule(e+"{"+t+"}",r)});t.exports={isExtInstalled:function(){return"undefined"!=typeof NasExtWallet},isChrome:function(){if("undefined"!=typeof window&&navigator.userAgent.toLowerCase().match(/chrome\/([\d\.]+)/))return!0;return!1},isMobile:function(){return-1<navigator.userAgent.toLowerCase().indexOf("mobile")},isNano:function(){return-1<navigator.userAgent.toLowerCase().indexOf("nasnanoapp")},isWechat:function(){return-1<navigator.userAgent.toLowerCase().indexOf("micromessenger")},randomCode:function(e){var t,r,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o="";for(t=0;t<e;t+=1)r=Math.random()*n.length,r=Math.floor(r),o+=n.charAt(r);return o},addCssRule:i}},{}],2:[function(e,t,r){"use strict";var s=e("./config");e("./Utils");t.exports=function(e,t){var r,n,o,i,a=s.nanoScheme(t.debug);a=a+"://virtual?params="+JSON.stringify(e),window.location.href=a,r=function(e){e||window.confirm('NasNano is not installed. Click "ok" to install it.')&&(window.location.href="https://nano.nebulas.io/")},n=+new Date,i=0,o=setInterval(function(){i++;var e=+new Date-n;(100<=i||3e3<e)&&(clearInterval(o),3e3<e||document.hidden||document.webkitHidden?r(1):r(0))},20)}},{"./Utils":1,"./config":3}],3:[function(e,t,r){"use strict";var n="https://pay.nebulas.io/api/mainnet/pay",o="https://pay.nebulas.io/api/pay";t.exports={payUrl:function(e){return(e=e||!1)?o:n},nanoScheme:function(e){return(e=e||!1)?"openapp.NASnano.testnet":"openapp.NASnano"},mainnetUrl:n,testnetUrl:o}},{}],4:[function(e,t,r){"use strict";var n={};window.addEventListener("message",function(e){if(console.log("nebpay: received resp.data: "+JSON.stringify(e.data)),"content"===e.data.src){var t=e.data.serialNumber,r=n[t];"function"==typeof r&&r(t,e.data.resp)}}),t.exports=function(e){e.listener&&(n[e.serialNumber]=e.listener),e.listener=void 0,window.postMessage({src:"nebPay",logo:"nebulas",params:e},"*")}},{}],5:[function(e,t,r){"use strict";var n=function(n){return new Promise(function(e,t){var r=new XMLHttpRequest;r.open(n.method||"GET",n.url),n.headers&&Object.keys(n.headers).forEach(function(e){r.setRequestHeader(e,n.headers[e])}),r.onload=function(){200<=r.status&&r.status<300?e(r.response):t(r.statusText)},r.onerror=function(){return t(r.statusText)},r.send(n.body)})};t.exports={get:function(e,t){return n({url:e,method:"GET",body:t})},post:function(e,t){return n({url:e,method:"POST",body:t})},request:n}},{}],6:[function(e,t,r){"use strict";var l=e("bignumber.js"),f=e("./Utils"),d=e("./qrcode"),h=e("./extensionHandler"),g=e("./appHandler"),p=e("./config"),n=function(e,t){this.appKey=e,this.appSecret=t},v="1000000000000",m="50000000000";n.prototype={submit:function(e,t,r,n,o){o.serialNumber=f.randomCode(32);var i,a,s=new l(r=r||"0").times("1000000000000000000");if(o.gasLimit){if((i=new l(o.gasLimit)).lt(0))throw new Error("gas limit should not be minus");if(i.gt(m))throw new Error("gas limit should smaller than "+m);if(!i.isInteger())throw new Error("gas limit should be integer")}if(o.gasPrice){if((a=new l(o.gasPrice)).lt(0))throw new Error("gas price should not be minus");if(a.gt(v))throw new Error("gas price should smaller than "+v);if(!a.isInteger())throw new Error("gas price should be integer")}var u={serialNumber:o.serialNumber,goods:o.goods,pay:{currency:e,to:t,value:s.toString(10),payload:n,gasLimit:i?i.toString(10):void 0,gasPrice:a?a.toString(10):void 0},callback:o.callback||p.payUrl(o.debug),listener:o.listener,nrc20:o.nrc20};f.isChrome()&&!f.isMobile()&&o.extension.openExtension&&(f.isExtInstalled()?h(u):window.confirm('NasExtWallet is not installed. Click "ok" to install it.')&&window.open("https://chrome.google.com/webstore/detail/nasextwallet/gehjkhmhclgnkkhpfamakecfgakkfkco"));var c={category:"jump",des:"confirmTransfer",pageParams:u};return f.isMobile()&&g(c,o),o.qrcode.showQRCode&&!f.isNano()&&d.showQRCode(JSON.stringify(c),o),o.serialNumber}},t.exports=n},{"./Utils":1,"./appHandler":2,"./config":3,"./extensionHandler":4,"./qrcode":7,"bignumber.js":8}],7:[function(e,t,r){"use strict";var n=e("qrcode"),l=e("./Utils"),f=function(e,t){void 0!==t.listener&&t.listener(t.serialNumber,e)};t.exports={showQRCode:function(e,t){if("undefined"!=typeof window){var r=t.qrcode.container;void 0===r&&(r=function(e){var t=document.createElement("canvas");t.className="qrcode",l.addCssRule(".qrcode","//box-shadow: 2px 2px 12px lightgray;");var r=document.createElement("div");r.className="qrcode-container";var n="text-align: center;    //background-color: #fff0;    background-color: white;    //border-radius: 20px;    width: min-content; //300px;    height: min-content; //300px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);";l.addCssRule(".qrcode-container",n),r.appendChild(t);var o=document.createElement("br");r.appendChild(o);var i=document.createElement("label");i.innerHTML='Please use <a href= "https://nano.nebulas.io/" target="_blank" >NasNano</a> to scan this QR-Code.',i.className="qrcode-text",n="background-color: white;    \twidth: 300px",l.addCssRule(".qrcode-text",n),r.appendChild(i),o=document.createElement("br"),r.appendChild(o);var a=document.createElement("BUTTON");a.className="complete",a.innerHTML=e.qrcode.completeTip||"COMPLETE/完成支付",n="background-color: #000;\tborder-radius: 4px;\twidth: 295px; // 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 20px;\tcolor: #fff;\t",l.addCssRule(".complete",n),r.appendChild(a),o=document.createElement("br"),r.appendChild(o);var s=document.createElement("BUTTON");s.className="cancel",s.innerHTML=e.qrcode.cancelTip||"CANCEL/取消支付",n="background-color: #666;\tborder-radius: 4px;\twidth: 295px; // 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 10px;\tmargin-bottom: 20px;\tcolor: #fff;\t",l.addCssRule(".cancel",n),r.appendChild(s);var u=document.createElement("div");u.className="qrcode-background",n="position:absolute;\tleft:0;\ttop:0;\tz-index:100;\theight:100%;\twidth:100%;\tbackground-color: rgba(0, 0, 0, 0.4);",l.addCssRule(".qrcode-background",n),u.appendChild(r);var c=document.getElementsByTagName("body")[0];return c.appendChild(u),r.onclick=function(){event.cancelBubble=!0},u.onclick=function(){},s.onclick=function(){c.removeChild(u),u=null,f(!1,e)},a.onclick=function(){c.removeChild(u),f(!(u=null),e)},t}(t)),n.toCanvas(r,e,function(e){e&&console.error(e)})}}}},{"./Utils":1,qrcode:13}],8:[function(e,r,t){!function(e){"use strict";var t,k=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,U=Math.ceil,O=Math.floor,q=" not a boolean or binary digit",D="rounding mode",F="number type has more than 15 significant digits",j="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",H=1e14,Y=14,z=9007199254740991,J=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],K=1e7,Q=1e9;function V(e){var t=0|e;return 0<e||e===t?t:t-1}function $(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(t=e[n++]+"",r=Y-t.length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function i(e,t){var r,n,o=e.c,i=t.c,a=e.s,s=t.s,u=e.e,c=t.e;if(!a||!s)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=u==c,!o||!i)return n?0:!o^r?1:-1;if(!n)return c<u^r?1:-1;for(s=(u=o.length)<(c=i.length)?u:c,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^r?1:-1;return u==c?0:c<u^r?1:-1}function G(e,t,r){return(e=te(e))>=t&&e<=r}function W(e){return"[object Array]"==Object.prototype.toString.call(e)}function X(e,t,r){for(var n,o,i=[0],a=0,s=e.length;a<s;){for(o=i.length;o--;i[o]*=t);for(i[n=0]+=j.indexOf(e.charAt(a++));n<i.length;n++)i[n]>r-1&&(null==i[n+1]&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function Z(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function ee(e,t){var r,n;if(t<0){for(n="0.";++t;n+="0");e=n+e}else if(++t>(r=e.length)){for(n="0",t-=r;--t;n+="0");e+=n}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}function te(e){return(e=parseFloat(e))<0?U(e):O(e)}(t=function e(t){var v,c,r,l,a,s,u,f,d,b=0,n=P.prototype,m=new P(1),g=20,w=4,h=-7,p=21,y=-1e7,E=1e7,A=!0,N=M,x=!1,T=1,C=0,R={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function P(e,t){var r,n,o,i,a,s,u=this;if(!(u instanceof P))return new P(e,t);if(null!=t&&N(t,2,64,b,"base")){if(s=e+"",10==(t|=0))return L(u=new P(e instanceof P?e:s),g+u.e+1,w);if((i="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(r="["+j.slice(0,t)+"]+")+"(?:\\."+r+")?$",t<37?"i":"").test(s))return c(u,s,i,t);i?(u.s=1/e<0?(s=s.slice(1),-1):1,A&&15<s.replace(/^0\.0*|\./,"").length&&_(b,F,e),i=!1):u.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1,s=B(s,10,t,u.s)}else{if(e instanceof P)return u.s=e.s,u.e=e.e,u.c=(e=e.c)?e.slice():e,void(b=0);if((i="number"==typeof e)&&0*e==0){if(u.s=1/e<0?(e=-e,-1):1,e===~~e){for(n=0,o=e;10<=o;o/=10,n++);return u.e=n,u.c=[e],void(b=0)}s=e+""}else{if(!k.test(s=e+""))return c(u,s,i);u.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1}}for(-1<(n=s.indexOf("."))&&(s=s.replace(".","")),0<(o=s.search(/e/i))?(n<0&&(n=o),n+=+s.slice(o+1),s=s.substring(0,o)):n<0&&(n=s.length),o=0;48===s.charCodeAt(o);o++);for(a=s.length;48===s.charCodeAt(--a););if(s=s.slice(o,a+1))if(a=s.length,i&&A&&15<a&&(z<e||e!==O(e))&&_(b,F,u.s*e),E<(n=n-o-1))u.c=u.e=null;else if(n<y)u.c=[u.e=0];else{if(u.e=n,u.c=[],o=(n+1)%Y,n<0&&(o+=Y),o<a){for(o&&u.c.push(+s.slice(0,o)),a-=Y;o<a;)u.c.push(+s.slice(o,o+=Y));s=s.slice(o),o=Y-s.length}else o-=a;for(;o--;s+="0");u.c.push(+s)}else u.c=[u.e=0];b=0}function B(e,t,r,n){var o,i,a,s,u,c,l,f=e.indexOf("."),d=g,h=w;for(r<37&&(e=e.toLowerCase()),0<=f&&(a=C,C=0,e=e.replace(".",""),u=(l=new P(r)).pow(e.length-f),C=a,l.c=X(ee($(u.c),u.e),10,t),l.e=l.c.length),i=a=(c=X(e,r,t)).length;0==c[--a];c.pop());if(!c[0])return"0";if(f<0?--i:(u.c=c,u.e=i,u.s=n,c=(u=v(u,l,d,h,t)).c,s=u.r,i=u.e),f=c[o=i+d+1],a=t/2,s=s||o<0||null!=c[o+1],s=h<4?(null!=f||s)&&(0==h||h==(u.s<0?3:2)):a<f||f==a&&(4==h||s||6==h&&1&c[o-1]||h==(u.s<0?8:7)),o<1||!c[0])e=s?ee("1",-d):"0";else{if(c.length=o,s)for(--t;++c[--o]>t;)c[o]=0,o||(++i,c=[1].concat(c));for(a=c.length;!c[--a];);for(f=0,e="";f<=a;e+=j.charAt(c[f++]));e=ee(e,i)}return e}function I(e,t,r,n){var o,i,a,s,u;if(r=null!=r&&N(r,0,8,n,D)?0|r:w,!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)u=$(e.c),u=19==n||24==n&&a<=h?Z(u,a):ee(u,a);else if(i=(e=L(new P(e),t,r)).e,s=(u=$(e.c)).length,19==n||24==n&&(t<=i||i<=h)){for(;s<t;u+="0",s++);u=Z(u,i)}else if(t-=a,u=ee(u,i),s<i+1){if(0<--t)for(u+=".";t--;u+="0");}else if(0<(t+=i-s))for(i+1==s&&(u+=".");t--;u+="0");return e.s<0&&o?"-"+u:u}function o(e,t){var r,n,o=0;for(W(e[0])&&(e=e[0]),r=new P(e[0]);++o<e.length;){if(!(n=new P(e[o])).s){r=n;break}t.call(r,n)&&(r=n)}return r}function M(e,t,r,n,o){return(e<t||r<e||e!=te(e))&&_(n,(o||"decimal places")+(e<t||r<e?" out of range":" not an integer"),e),!0}function S(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];10<=o;o/=10,n++);return(r=n+r*Y-1)>E?e.c=e.e=null:r<y?e.c=[e.e=0]:(e.e=r,e.c=t),e}function _(e,t,r){var n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+r);throw n.name="BigNumber Error",b=0,n}function L(e,t,r,n){var o,i,a,s,u,c,l,f=e.c,d=J;if(f){e:{for(o=1,s=f[0];10<=s;s/=10,o++);if((i=t-o)<0)i+=Y,a=t,l=(u=f[c=0])/d[o-a-1]%10|0;else if((c=U((i+1)/Y))>=f.length){if(!n)break e;for(;f.length<=c;f.push(0));u=l=0,a=(i%=Y)-Y+(o=1)}else{for(u=s=f[c],o=1;10<=s;s/=10,o++);l=(a=(i%=Y)-Y+o)<0?0:u/d[o-a-1]%10|0}if(n=n||t<0||null!=f[c+1]||(a<0?u:u%d[o-a-1]),n=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):5<l||5==l&&(4==r||n||6==r&&(0<i?0<a?u/d[o-a]:0:f[c-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,n?(t-=e.e+1,f[0]=d[(Y-t%Y)%Y],e.e=-t||0):f[0]=e.e=0,e;if(0==i?(f.length=c,s=1,c--):(f.length=c+1,s=d[Y-i],f[c]=0<a?O(u/d[o-a]%d[a])*s:0),n)for(;;){if(0==c){for(i=1,a=f[0];10<=a;a/=10,i++);for(a=f[0]+=s,s=1;10<=a;a/=10,s++);i!=s&&(e.e++,f[0]==H&&(f[0]=1));break}if(f[c]+=s,f[c]!=H)break;f[c--]=0,s=1}for(i=f.length;0===f[--i];f.pop());}e.e>E?e.c=e.e=null:e.e<y&&(e.c=[e.e=0])}return e}return P.another=e,P.ROUND_UP=0,P.ROUND_DOWN=1,P.ROUND_CEIL=2,P.ROUND_FLOOR=3,P.ROUND_HALF_UP=4,P.ROUND_HALF_DOWN=5,P.ROUND_HALF_EVEN=6,P.ROUND_HALF_CEIL=7,P.ROUND_HALF_FLOOR=8,P.EUCLID=9,P.config=P.set=function(){var e,t,r=0,n={},o=arguments,i=o[0],a=i&&"object"==typeof i?function(){if(i.hasOwnProperty(t))return null!=(e=i[t])}:function(){if(o.length>r)return null!=(e=o[r++])};return a(t="DECIMAL_PLACES")&&N(e,0,Q,2,t)&&(g=0|e),n[t]=g,a(t="ROUNDING_MODE")&&N(e,0,8,2,t)&&(w=0|e),n[t]=w,a(t="EXPONENTIAL_AT")&&(W(e)?N(e[0],-Q,0,2,t)&&N(e[1],0,Q,2,t)&&(h=0|e[0],p=0|e[1]):N(e,-Q,Q,2,t)&&(h=-(p=0|(e<0?-e:e)))),n[t]=[h,p],a(t="RANGE")&&(W(e)?N(e[0],-Q,-1,2,t)&&N(e[1],1,Q,2,t)&&(y=0|e[0],E=0|e[1]):N(e,-Q,Q,2,t)&&(0|e?y=-(E=0|(e<0?-e:e)):A&&_(2,t+" cannot be zero",e))),n[t]=[y,E],a(t="ERRORS")&&(e===!!e||1===e||0===e?(b=0,N=(A=!!e)?M:G):A&&_(2,t+q,e)),n[t]=A,a(t="CRYPTO")&&(!0===e||!1===e||1===e||0===e?e?!(e="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?x=!0:A?_(2,"crypto unavailable",e?void 0:crypto):x=!1:x=!1:A&&_(2,t+q,e)),n[t]=x,a(t="MODULO_MODE")&&N(e,0,9,2,t)&&(T=0|e),n[t]=T,a(t="POW_PRECISION")&&N(e,0,Q,2,t)&&(C=0|e),n[t]=C,a(t="FORMAT")&&("object"==typeof e?R=e:A&&_(2,t+" not an object",e)),n[t]=R,n},P.max=function(){return o(arguments,n.lt)},P.min=function(){return o(arguments,n.gt)},P.random=(r=9007199254740992,l=Math.random()*r&2097151?function(){return O(Math.random()*r)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,o,i,a=0,s=[],u=new P(m);if(e=null!=e&&N(e,0,Q,14)?0|e:g,o=U(e/Y),x)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));a<o;)9e15<=(i=131072*t[a]+(t[a+1]>>>11))?(r=crypto.getRandomValues(new Uint32Array(2)),t[a]=r[0],t[a+1]=r[1]):(s.push(i%1e14),a+=2);a=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);a<o;)9e15<=(i=281474976710656*(31&t[a])+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])?crypto.randomBytes(7).copy(t,a):(s.push(i%1e14),a+=7);a=o/7}else x=!1,A&&_(14,"crypto unavailable",crypto);if(!x)for(;a<o;)(i=l())<9e15&&(s[a++]=i%1e14);for(o=s[--a],e%=Y,o&&e&&(i=J[Y-e],s[a]=O(o/i)*i);0===s[a];s.pop(),a--);if(a<0)s=[n=0];else{for(n=-1;0===s[0];s.splice(0,1),n-=Y);for(a=1,i=s[0];10<=i;i/=10,a++);a<Y&&(n-=Y-a)}return u.e=n,u.c=s,u}),v=function(){function T(e,t,r){var n,o,i,a,s=0,u=e.length,c=t%K,l=t/K|0;for(e=e.slice();u--;)s=((o=c*(i=e[u]%K)+(n=l*i+(a=e[u]/K|0)*c)%K*K+s)/r|0)+(n/K|0)+l*a,e[u]=o%r;return s&&(e=[s].concat(e)),e}function C(e,t,r,n){var o,i;if(r!=n)i=n<r?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function R(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&1<e.length;e.splice(0,1));}return function(e,t,r,n,o){var i,a,s,u,c,l,f,d,h,g,p,v,m,w,y,b,E,A=e.s==t.s?1:-1,N=e.c,x=t.c;if(!(N&&N[0]&&x&&x[0]))return new P(e.s&&t.s&&(N?!x||N[0]!=x[0]:x)?N&&0==N[0]||!x?0*A:A/0:NaN);for(h=(d=new P(A)).c=[],A=r+(a=e.e-t.e)+1,o||(o=H,a=V(e.e/Y)-V(t.e/Y),A=A/Y|0),s=0;x[s]==(N[s]||0);s++);if(x[s]>(N[s]||0)&&a--,A<0)h.push(1),u=!0;else{for(w=N.length,b=x.length,A+=2,1<(c=O(o/(x[s=0]+1)))&&(x=T(x,c,o),N=T(N,c,o),b=x.length,w=N.length),m=b,p=(g=N.slice(0,b)).length;p<b;g[p++]=0);E=x.slice(),E=[0].concat(E),y=x[0],x[1]>=o/2&&y++;do{if(c=0,(i=C(x,g,b,p))<0){if(v=g[0],b!=p&&(v=v*o+(g[1]||0)),1<(c=O(v/y)))for(o<=c&&(c=o-1),f=(l=T(x,c,o)).length,p=g.length;1==C(l,g,f,p);)c--,R(l,b<f?E:x,f,o),f=l.length,i=1;else 0==c&&(i=c=1),f=(l=x.slice()).length;if(f<p&&(l=[0].concat(l)),R(g,l,p,o),p=g.length,-1==i)for(;C(x,g,b,p)<1;)c++,R(g,b<p?E:x,p,o),p=g.length}else 0===i&&(c++,g=[0]);h[s++]=c,g[0]?g[p++]=N[m]||0:(g=[N[m]],p=1)}while((m++<w||null!=g[0])&&A--);u=null!=g[0],h[0]||h.splice(0,1)}if(o==H){for(s=1,A=h[0];10<=A;A/=10,s++);L(d,r+(d.e=s+a*Y-1)+1,n,u)}else d.e=a,d.r=+u;return d}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,s=/^([^.]+)\.$/,u=/^\.([^.]+)$/,f=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g,c=function(e,t,r,n){var o,i=r?t:t.replace(d,"");if(f.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(a,function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t}),n&&(o=n,i=i.replace(s,"$1").replace(u,"0.$1")),t!=i))return new P(i,o);A&&_(b,"not a"+(n?" base "+n:"")+" number",t),e.s=null}e.c=e.e=null,b=0},n.absoluteValue=n.abs=function(){var e=new P(this);return e.s<0&&(e.s=1),e},n.ceil=function(){return L(new P(this),this.e+1,2)},n.comparedTo=n.cmp=function(e,t){return b=1,i(this,new P(e,t))},n.decimalPlaces=n.dp=function(){var e,t,r=this.c;if(!r)return null;if(e=((t=r.length-1)-V(this.e/Y))*Y,t=r[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},n.dividedBy=n.div=function(e,t){return b=3,v(this,new P(e,t),g,w)},n.dividedToIntegerBy=n.divToInt=function(e,t){return b=4,v(this,new P(e,t),0,1)},n.equals=n.eq=function(e,t){return b=5,0===i(this,new P(e,t))},n.floor=function(){return L(new P(this),this.e+1,3)},n.greaterThan=n.gt=function(e,t){return b=6,0<i(this,new P(e,t))},n.greaterThanOrEqualTo=n.gte=function(e,t){return b=7,1===(t=i(this,new P(e,t)))||0===t},n.isFinite=function(){return!!this.c},n.isInteger=n.isInt=function(){return!!this.c&&V(this.e/Y)>this.c.length-2},n.isNaN=function(){return!this.s},n.isNegative=n.isNeg=function(){return this.s<0},n.isZero=function(){return!!this.c&&0==this.c[0]},n.lessThan=n.lt=function(e,t){return b=8,i(this,new P(e,t))<0},n.lessThanOrEqualTo=n.lte=function(e,t){return b=9,-1===(t=i(this,new P(e,t)))||0===t},n.minus=n.sub=function(e,t){var r,n,o,i,a=this,s=a.s;if(b=10,t=(e=new P(e,t)).s,!s||!t)return new P(NaN);if(s!=t)return e.s=-t,a.plus(e);var u=a.e/Y,c=e.e/Y,l=a.c,f=e.c;if(!u||!c){if(!l||!f)return l?(e.s=-t,e):new P(f?a:NaN);if(!l[0]||!f[0])return f[0]?(e.s=-t,e):new P(l[0]?a:3==w?-0:0)}if(u=V(u),c=V(c),l=l.slice(),s=u-c){for((i=s<0)?(s=-s,o=l):(c=u,o=f),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(n=(i=(s=l.length)<(t=f.length))?s:t,s=t=0;t<n;t++)if(l[t]!=f[t]){i=l[t]<f[t];break}if(i&&(o=l,l=f,f=o,e.s=-e.s),0<(t=(n=f.length)-(r=l.length)))for(;t--;l[r++]=0);for(t=H-1;s<n;){if(l[--n]<f[n]){for(r=n;r&&!l[--r];l[r]=t);--l[r],l[n]+=H}l[n]-=f[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?S(e,l,c):(e.s=3==w?-1:1,e.c=[e.e=0],e)},n.modulo=n.mod=function(e,t){var r,n,o=this;return b=11,e=new P(e,t),!o.c||!e.s||e.c&&!e.c[0]?new P(NaN):!e.c||o.c&&!o.c[0]?new P(o):(9==T?(n=e.s,e.s=1,r=v(o,e,0,3),e.s=n,r.s*=n):r=v(o,e,0,T),o.minus(r.times(e)))},n.negated=n.neg=function(){var e=new P(this);return e.s=-e.s||null,e},n.plus=n.add=function(e,t){var r,n=this,o=n.s;if(b=12,t=(e=new P(e,t)).s,!o||!t)return new P(NaN);if(o!=t)return e.s=-t,n.minus(e);var i=n.e/Y,a=e.e/Y,s=n.c,u=e.c;if(!i||!a){if(!s||!u)return new P(o/0);if(!s[0]||!u[0])return u[0]?e:new P(s[0]?n:0*o)}if(i=V(i),a=V(a),s=s.slice(),o=i-a){for(0<o?(a=i,r=u):(o=-o,r=s),r.reverse();o--;r.push(0));r.reverse()}for((o=s.length)-(t=u.length)<0&&(r=u,u=s,s=r,t=o),o=0;t;)o=(s[--t]=s[t]+u[t]+o)/H|0,s[t]=H===s[t]?0:s[t]%H;return o&&(s=[o].concat(s),++a),S(e,s,a)},n.precision=n.sd=function(e){var t,r,n=this.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(A&&_(13,"argument"+q,e),e!=!!e&&(e=null)),!n)return null;if(t=(r=n.length-1)*Y+1,r=n[r]){for(;r%10==0;r/=10,t--);for(r=n[0];10<=r;r/=10,t++);}return e&&this.e+1>t&&(t=this.e+1),t},n.round=function(e,t){var r=new P(this);return(null==e||N(e,0,Q,15))&&L(r,~~e+this.e+1,null!=t&&N(t,0,8,15,D)?0|t:w),r},n.shift=function(e){var t=this;return N(e,-z,z,16,"argument")?t.times("1e"+te(e)):new P(t.c&&t.c[0]&&(e<-z||z<e)?t.s*(e<0?0:1/0):t)},n.squareRoot=n.sqrt=function(){var e,t,r,n,o,i=this,a=i.c,s=i.s,u=i.e,c=g+4,l=new P("0.5");if(1!==s||!a||!a[0])return new P(!s||s<0&&(!a||a[0])?NaN:a?i:1/0);if(0==(s=Math.sqrt(+i))||s==1/0?(((t=$(a)).length+u)%2==0&&(t+="0"),s=Math.sqrt(t),u=V((u+1)/2)-(u<0||u%2),r=new P(t=s==1/0?"1e"+u:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new P(s+""),r.c[0])for((s=(u=r.e)+c)<3&&(s=0);;)if(o=r,r=l.times(o.plus(v(i,o,c,1))),$(o.c).slice(0,s)===(t=$(r.c)).slice(0,s)){if(r.e<u&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(L(r,r.e+g+2,1),e=!r.times(r).eq(i));break}if(!n&&(L(o,o.e+g+2,0),o.times(o).eq(i))){r=o;break}c+=4,s+=4,n=1}return L(r,r.e+g+1,w,e)},n.times=n.mul=function(e,t){var r,n,o,i,a,s,u,c,l,f,d,h,g,p,v,m=this,w=m.c,y=(b=17,e=new P(e,t)).c;if(!(w&&y&&w[0]&&y[0]))return!m.s||!e.s||w&&!w[0]&&!y||y&&!y[0]&&!w?e.c=e.e=e.s=null:(e.s*=m.s,w&&y?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=V(m.e/Y)+V(e.e/Y),e.s*=m.s,(u=w.length)<(f=y.length)&&(g=w,w=y,y=g,o=u,u=f,f=o),o=u+f,g=[];o--;g.push(0));for(p=H,v=K,o=f;0<=--o;){for(r=0,d=y[o]%v,h=y[o]/v|0,i=o+(a=u);o<i;)r=((c=d*(c=w[--a]%v)+(s=h*c+(l=w[a]/v|0)*d)%v*v+g[i]+r)/p|0)+(s/v|0)+h*l,g[i--]=c%p;g[i]=r}return r?++n:g.splice(0,1),S(e,g,n)},n.toDigits=function(e,t){var r=new P(this);return e=null!=e&&N(e,1,Q,18,"precision")?0|e:null,t=null!=t&&N(t,0,8,18,D)?0|t:w,e?L(r,e,t):r},n.toExponential=function(e,t){return I(this,null!=e&&N(e,0,Q,19)?1+~~e:null,t,19)},n.toFixed=function(e,t){return I(this,null!=e&&N(e,0,Q,20)?~~e+this.e+1:null,t,20)},n.toFormat=function(e,t){var r=I(this,null!=e&&N(e,0,Q,21)?~~e+this.e+1:null,t,21);if(this.c){var n,o=r.split("."),i=+R.groupSize,a=+R.secondaryGroupSize,s=R.groupSeparator,u=o[0],c=o[1],l=this.s<0,f=l?u.slice(1):u,d=f.length;if(a&&(n=i,i=a,d-=a=n),0<i&&0<d){for(n=d%i||i,u=f.substr(0,n);n<d;n+=i)u+=s+f.substr(n,i);0<a&&(u+=s+f.slice(n)),l&&(u="-"+u)}r=c?u+R.decimalSeparator+((a=+R.fractionGroupSize)?c.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+R.fractionGroupSeparator):c):u}return r},n.toFraction=function(e){var t,r,n,o,i,a,s,u,c,l=A,f=this,d=f.c,h=new P(m),g=r=new P(m),p=s=new P(m);if(null!=e&&(A=!1,a=new P(e),A=l,(l=a.isInt())&&!a.lt(m)||(A&&_(22,"max denominator "+(l?"out of range":"not an integer"),e),e=!l&&a.c&&L(a,a.e+1,1).gte(m)?a:null)),!d)return f.toString();for(c=$(d),o=h.e=c.length-f.e-1,h.c[0]=J[(i=o%Y)<0?Y+i:i],e=!e||0<a.cmp(h)?0<o?h:g:a,i=E,E=1/0,a=new P(c),s.c[0]=0;u=v(a,h,0,1),1!=(n=r.plus(u.times(p))).cmp(e);)r=p,p=n,g=s.plus(u.times(n=g)),s=n,h=a.minus(u.times(n=h)),a=n;return n=v(e.minus(r),p,0,1),s=s.plus(n.times(g)),r=r.plus(n.times(p)),s.s=g.s=f.s,t=v(g,p,o*=2,w).minus(f).abs().cmp(v(s,r,o,w).minus(f).abs())<1?[g.toString(),p.toString()]:[s.toString(),r.toString()],E=i,t},n.toNumber=function(){return+this},n.toPower=n.pow=function(e,t){var r,n,o,i=O(e<0?-e:+e),a=this;if(null!=t&&(b=23,t=new P(t)),!N(e,-z,z,23,"exponent")&&(!isFinite(e)||z<i&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||0==e)return r=Math.pow(+a,e),new P(t?r%t:r);for(t?1<e&&a.gt(m)&&a.isInt()&&t.gt(m)&&t.isInt()?a=a.mod(t):(o=t,t=null):C&&(r=U(C/Y+2)),n=new P(m);;){if(i%2){if(!(n=n.times(a)).c)break;r?n.c.length>r&&(n.c.length=r):t&&(n=n.mod(t))}if(!(i=O(i/2)))break;a=a.times(a),r?a.c&&a.c.length>r&&(a.c.length=r):t&&(a=a.mod(t))}return t?n:(e<0&&(n=m.div(n)),o?n.mod(o):r?L(n,C,w):n)},n.toPrecision=function(e,t){return I(this,null!=e&&N(e,1,Q,24,"precision")?0|e:null,t,24)},n.toString=function(e){var t,r=this.s,n=this.e;return null===n?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=$(this.c),t=null!=e&&N(e,2,64,25,"base")?B(ee(t,n),0|e,10,r):n<=h||p<=n?Z(t,n):ee(t,n),r<0&&this.c[0]&&(t="-"+t)),t},n.truncated=n.trunc=function(){return L(new P(this),this.e+1,1)},n.valueOf=n.toJSON=function(){var e,t=this.e;return null===t?this.toString():(e=$(this.c),e=t<=h||p<=t?Z(e,t):ee(e,t),this.s<0?"-"+e:e)},n.isBigNumber=!0,null!=t&&P.config(t),P}()).default=t.BigNumber=t,"function"==typeof define&&define.amd?define(function(){return t}):void 0!==r&&r.exports?r.exports=t:(e||(e="undefined"!=typeof self?self:Function("return this")()),e.BigNumber=t)}(this)},{}],9:[function(e,t,r){"use strict";var n=e("window-or-global");t.exports=function(){return"function"==typeof n.Promise&&"function"==typeof n.Promise.prototype.then}},{"window-or-global":39}],10:[function(e,t,r){"use strict";var g={single_source_shortest_paths:function(e,t,r){var n={},o={};o[t]=0;var i,a,s,u,c,l,f,d=g.PriorityQueue.make();for(d.push(t,0);!d.empty();)for(s in a=(i=d.pop()).value,u=i.cost,c=e[a]||{})c.hasOwnProperty(s)&&(l=u+c[s],f=o[s],(void 0===o[s]||l<f)&&(o[s]=l,d.push(s,l),n[s]=a));if(void 0!==r&&void 0===o[r]){var h=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(h)}return n},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){var n=g.single_source_shortest_paths(e,t,r);return g.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(e){var t,r=g.PriorityQueue,n={};for(t in e=e||{},r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n.queue=[],n.sorter=e.sorter||r.default_sorter,n},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==t&&(t.exports=g)},{}],11:[function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,f=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},d=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=o.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;for(t in e);return void 0===t||o.call(e,t)};t.exports=function e(){var t,r,n,o,i,a,s=arguments[0],u=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},u=2),(null==s||"object"!=typeof s&&"function"!=typeof s)&&(s={});u<c;++u)if(null!=(t=arguments[u]))for(r in t)n=s[r],s!==(o=t[r])&&(l&&o&&(d(o)||(i=f(o)))?(i?(i=!1,a=n&&f(n)?n:[]):a=n&&d(n)?n:{},s[r]=e(l,a,o)):void 0!==o&&(s[r]=o));return s}},{}],12:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],13:[function(e,t,r){var c=e("can-promise"),l=e("./core/qrcode"),n=e("./renderer/canvas"),o=e("./renderer/svg-tag.js");function i(n,o,i,a,t){var e=[].slice.call(arguments,1),r=e.length,s="function"==typeof e[r-1];if(!s&&!c())throw new Error("Callback required as last argument");if(!s){if(r<1)throw new Error("Too few arguments provided");return 1===r?(i=o,o=a=void 0):2!==r||o.getContext||(a=i,i=o,o=void 0),new Promise(function(e,t){try{var r=l.create(i,a);e(n(r,o,a))}catch(e){t(e)}})}if(r<2)throw new Error("Too few arguments provided");2===r?(t=i,i=o,o=a=void 0):3===r&&(o.getContext&&void 0===t?(t=a,a=void 0):(t=a,a=i,i=o,o=void 0));try{var u=l.create(i,a);t(null,n(u,o,a))}catch(e){t(e)}}r.create=l.create,r.toCanvas=i.bind(null,n.render),r.toDataURL=i.bind(null,n.renderToDataURL),r.toString=i.bind(null,function(e,t,r){return o.render(e,r)})},{"./core/qrcode":29,"./renderer/canvas":35,"./renderer/svg-tag.js":36,"can-promise":9}],14:[function(e,t,a){var s=e("./utils").getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,r=s(e),n=145===r?26:2*Math.ceil((r-13)/(2*t-2)),o=[r-7],i=1;i<t-1;i++)o[i]=o[i-1]-n;return o.push(6),o.reverse()},a.getPositions=function(e){for(var t=[],r=a.getRowColCoords(e),n=r.length,o=0;o<n;o++)for(var i=0;i<n;i++)0===o&&0===i||0===o&&i===n-1||o===n-1&&0===i||t.push([r[o],r[i]]);return t}},{"./utils":33}],15:[function(e,t,r){var n=e("./mode"),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=n.ALPHANUMERIC,this.data=e}i.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var r=45*o.indexOf(this.data[t]);r+=o.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},t.exports=i},{"./mode":26}],16:[function(e,t,r){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=n},{}],17:[function(e,t,r){var n=e("../utils/buffer");function o(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new n(e*e),this.data.fill(0),this.reservedBit=new n(e*e),this.reservedBit.fill(0)}o.prototype.set=function(e,t,r,n){var o=e*this.size+t;this.data[o]=r,n&&(this.reservedBit[o]=!0)},o.prototype.get=function(e,t){return this.data[e*this.size+t]},o.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},o.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=o},{"../utils/buffer":38}],18:[function(e,t,r){var n=e("../utils/buffer"),o=e("./mode");function i(e){this.mode=o.BYTE,this.data=new n(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},t.exports=i},{"../utils/buffer":38,"./mode":26}],19:[function(e,t,r){var n=e("./error-correction-level"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];r.getBlocksCount=function(e,t){switch(t){case n.L:return o[4*(e-1)+0];case n.M:return o[4*(e-1)+1];case n.Q:return o[4*(e-1)+2];case n.H:return o[4*(e-1)+3];default:return}},r.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return i[4*(e-1)+0];case n.M:return i[4*(e-1)+1];case n.Q:return i[4*(e-1)+2];case n.H:return i[4*(e-1)+3];default:return}}},{"./error-correction-level":20}],20:[function(e,t,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},{}],21:[function(e,t,r){var n=e("./utils").getSymbolSize;r.getPositions=function(e){var t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},{"./utils":33}],22:[function(e,t,r){var o=e("./utils"),i=o.getBCHDigit(1335);r.getEncodedBits=function(e,t){for(var r=e.bit<<3|t,n=r<<10;0<=o.getBCHDigit(n)-i;)n^=1335<<o.getBCHDigit(n)-i;return 21522^(r<<10|n)}},{"./utils":33}],23:[function(e,t,r){var n=e("../utils/buffer"),o=new n(512),i=new n(256);!function(){for(var e=1,t=0;t<255;t++)o[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)o[t]=o[t-255]}(),r.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},r.exp=function(e){return o[e]},r.mul=function(e,t){return 0===e||0===t?0:o[i[e]+i[t]]}},{"../utils/buffer":38}],24:[function(e,t,r){var n=e("./mode"),o=e("./utils");function i(e){this.mode=n.KANJI,this.data=e}i.getBitsLength=function(e){return 13*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=o.toSJIS(this.data[t]);if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},t.exports=i},{"./mode":26,"./utils":33}],25:[function(e,t,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var l=3,a=3,u=40,o=10;function i(e,t,r){switch(e){case s.Patterns.PATTERN000:return(t+r)%2==0;case s.Patterns.PATTERN001:return t%2==0;case s.Patterns.PATTERN010:return r%3==0;case s.Patterns.PATTERN011:return(t+r)%3==0;case s.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case s.Patterns.PATTERN101:return t*r%2+t*r%3==0;case s.Patterns.PATTERN110:return(t*r%2+t*r%3)%2==0;case s.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}s.isValid=function(e){return e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){for(var t=e.size,r=0,n=0,o=0,i=null,a=null,s=0;s<t;s++){n=o=0,i=a=null;for(var u=0;u<t;u++){var c=e.get(s,u);c===i?n++:(5<=n&&(r+=l+(n-5)),i=c,n=1),(c=e.get(u,s))===a?o++:(5<=o&&(r+=l+(o-5)),a=c,o=1)}5<=n&&(r+=l+(n-5)),5<=o&&(r+=l+(o-5))}return r},s.getPenaltyN2=function(e){for(var t=e.size,r=0,n=0;n<t-1;n++)for(var o=0;o<t-1;o++){var i=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);4!==i&&0!==i||r++}return r*a},s.getPenaltyN3=function(e){for(var t=e.size,r=0,n=0,o=0,i=0;i<t;i++){n=o=0;for(var a=0;a<t;a++)n=n<<1&2047|e.get(i,a),10<=a&&(1488===n||93===n)&&r++,o=o<<1&2047|e.get(a,i),10<=a&&(1488===o||93===o)&&r++}return r*u},s.getPenaltyN4=function(e){for(var t=0,r=e.data.length,n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*o},s.applyMask=function(e,t){for(var r=t.size,n=0;n<r;n++)for(var o=0;o<r;o++)t.isReserved(o,n)||t.xor(o,n,i(e,o,n))},s.getBestMask=function(e,t){for(var r=Object.keys(s.Patterns).length,n=0,o=1/0,i=0;i<r;i++){t(i),s.applyMask(i,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(i,e),a<o&&(o=a,n=i)}return n}},{}],26:[function(e,t,r){var n=e("./version"),o=e("./regex");r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},r.getBestModeForData=function(e){return o.testNumeric(e)?r.NUMERIC:o.testAlphanumeric(e)?r.ALPHANUMERIC:o.testKanji(e)?r.KANJI:r.BYTE},r.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},r.isValid=function(e){return e&&e.bit&&e.ccBits},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},{"./regex":31,"./version":34}],27:[function(e,t,r){var n=e("./mode");function o(e){this.mode=n.NUMERIC,this.data=e.toString()}o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);var o=this.data.length-t;0<o&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*o+1))},t.exports=o},{"./mode":26}],28:[function(e,t,n){var a=e("../utils/buffer"),s=e("./galois-field");n.mul=function(e,t){var r=new a(e.length+t.length-1);r.fill(0);for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)r[n+o]^=s.mul(e[n],t[o]);return r},n.mod=function(e,t){for(var r=new a(e);0<=r.length-t.length;){for(var n=r[0],o=0;o<t.length;o++)r[o]^=s.mul(t[o],n);for(var i=0;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},n.generateECPolynomial=function(e){for(var t=new a([1]),r=0;r<e;r++)t=n.mul(t,[1,s.exp(r)]);return t}},{"../utils/buffer":38,"./galois-field":23}],29:[function(e,t,r){var x=e("../utils/buffer"),T=e("./utils"),i=e("./error-correction-level"),s=e("./bit-buffer"),f=e("./bit-matrix"),d=e("./alignment-pattern"),h=e("./finder-pattern"),g=e("./mask-pattern"),C=e("./error-correction-code"),R=e("./reed-solomon-encoder"),p=e("./version"),u=e("./format-info"),c=e("./mode"),v=e("./segments"),m=e("isarray");function w(e,t,r){var n,o,i=e.size,a=u.getEncodedBits(t,r);for(n=0;n<15;n++)o=1==(a>>n&1),n<6?e.set(n,8,o,!0):n<8?e.set(n+1,8,o,!0):e.set(i-15+n,8,o,!0),n<8?e.set(8,i-n-1,o,!0):n<9?e.set(8,15-n-1+1,o,!0):e.set(8,15-n-1,o,!0);e.set(i-8,8,1,!0)}function y(t,e,r){var n=new s;r.forEach(function(e){n.put(e.mode.bit,4),n.put(e.getLength(),c.getCharCountIndicator(e.mode,t)),e.write(n)});var o=8*(T.getSymbolTotalCodewords(t)-C.getTotalCodewordsCount(t,e));for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var i=(o-n.getLengthInBits())/8,a=0;a<i;a++)n.put(a%2?17:236,8);return function(e,t,r){for(var n=T.getSymbolTotalCodewords(t),o=C.getTotalCodewordsCount(t,r),i=n-o,a=C.getBlocksCount(t,r),s=a-n%a,u=Math.floor(n/a),c=Math.floor(i/a),l=c+1,f=u-c,d=new R(f),h=0,g=new Array(a),p=new Array(a),v=0,m=new x(e.buffer),w=0;w<a;w++){var y=w<s?c:l;g[w]=m.slice(h,h+y),p[w]=d.encode(g[w]),h+=y,v=Math.max(v,y)}var b,E,A=new x(n),N=0;for(b=0;b<v;b++)for(E=0;E<a;E++)b<g[E].length&&(A[N++]=g[E][b]);for(b=0;b<f;b++)for(E=0;E<a;E++)A[N++]=p[E][b];return A}(n,t,e)}function a(e,t,r,n){var o;if(m(e))o=v.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var i=t;if(!i){var a=v.rawSplit(e);i=p.getBestVersionForData(a,r)}o=v.fromString(e,i||40)}var s=p.getBestVersionForData(o,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;var u=y(t,r,o),c=T.getSymbolSize(t),l=new f(c);return function(e,t){for(var r=e.size,n=h.getPositions(t),o=0;o<n.length;o++)for(var i=n[o][0],a=n[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||r<=i+s))for(var u=-1;u<=7;u++)a+u<=-1||r<=a+u||(0<=s&&s<=6&&(0===u||6===u)||0<=u&&u<=6&&(0===s||6===s)||2<=s&&s<=4&&2<=u&&u<=4?e.set(i+s,a+u,!0,!0):e.set(i+s,a+u,!1,!0))}(l,t),function(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2==0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}(l),function(e,t){for(var r=d.getPositions(t),n=0;n<r.length;n++)for(var o=r[n][0],i=r[n][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(o+a,i+s,!0,!0):e.set(o+a,i+s,!1,!0)}(l,t),w(l,r,0),7<=t&&function(e,t){for(var r,n,o,i=e.size,a=p.getEncodedBits(t),s=0;s<18;s++)r=Math.floor(s/3),n=s%3+i-8-3,o=1==(a>>s&1),e.set(r,n,o,!0),e.set(n,r,o,!0)}(l,t),function(e,t){for(var r=e.size,n=-1,o=r-1,i=7,a=0,s=r-1;0<s;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!e.isReserved(o,s-u)){var c=!1;a<t.length&&(c=1==(t[a]>>>i&1)),e.set(o,s-u,c),-1==--i&&(a++,i=7)}if((o+=n)<0||r<=o){o-=n,n=-n;break}}}(l,u),n||(n=g.getBestMask(l,w.bind(null,l,r))),g.applyMask(n,l),w(l,r,n),{modules:l,version:t,errorCorrectionLevel:r,maskPattern:n,segments:o}}r.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var r,n,o=i.M;return void 0!==t&&(o=i.from(t.errorCorrectionLevel,i.M),r=p.from(t.version),n=g.from(t.maskPattern),t.toSJISFunc&&T.setToSJISFunction(t.toSJISFunc)),a(e,r,o,n)}},{"../utils/buffer":38,"./alignment-pattern":14,"./bit-buffer":16,"./bit-matrix":17,"./error-correction-code":19,"./error-correction-level":20,"./finder-pattern":21,"./format-info":22,"./mask-pattern":25,"./mode":26,"./reed-solomon-encoder":30,"./segments":32,"./utils":33,"./version":34,isarray:12}],30:[function(e,t,r){var a=e("../utils/buffer"),s=e("./polynomial");function n(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}n.prototype.initialize=function(e){this.degree=e,this.genPoly=s.generateECPolynomial(this.degree)},n.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new a(this.degree);t.fill(0);var r=a.concat([e,t],e.length+this.degree),n=s.mod(r,this.genPoly),o=this.degree-n.length;if(0<o){var i=new a(this.degree);return i.fill(0),n.copy(i,o),i}return n},t.exports=n},{"../utils/buffer":38,"./polynomial":28}],31:[function(e,t,r){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",o="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+").)+";r.KANJI=new RegExp(n,"g"),r.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),r.BYTE=new RegExp(o,"g"),r.NUMERIC=new RegExp("[0-9]+","g"),r.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+n+"$"),a=new RegExp("^[0-9]+$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");r.testKanji=function(e){return i.test(e)},r.testNumeric=function(e){return a.test(e)},r.testAlphanumeric=function(e){return s.test(e)}},{}],32:[function(e,t,a){var h=e("./mode"),o=e("./numeric-data"),i=e("./alphanumeric-data"),s=e("./byte-data"),u=e("./kanji-data"),c=e("./regex"),l=e("./utils"),f=e("dijkstrajs");function d(e){return unescape(encodeURIComponent(e)).length}function g(e,t,r){for(var n,o=[];null!==(n=e.exec(r));)o.push({data:n[0],index:n.index,mode:t,length:n[0].length});return o}function p(e){var t,r,n=g(c.NUMERIC,h.NUMERIC,e),o=g(c.ALPHANUMERIC,h.ALPHANUMERIC,e);return l.isKanjiModeEnabled()?(t=g(c.BYTE,h.BYTE,e),r=g(c.KANJI,h.KANJI,e)):(t=g(c.BYTE_KANJI,h.BYTE,e),r=[]),n.concat(o,t,r).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function v(e,t){switch(t){case h.NUMERIC:return o.getBitsLength(e);case h.ALPHANUMERIC:return i.getBitsLength(e);case h.KANJI:return u.getBitsLength(e);case h.BYTE:return s.getBitsLength(e)}}function r(e,t){var r,n=h.getBestModeForData(e);if((r=h.from(t,n))!==h.BYTE&&r.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+h.toString(r)+".\n Suggested mode is: "+h.toString(n));switch(r!==h.KANJI||l.isKanjiModeEnabled()||(r=h.BYTE),r){case h.NUMERIC:return new o(e);case h.ALPHANUMERIC:return new i(e);case h.KANJI:return new u(e);case h.BYTE:return new s(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(r(t,null)):t.data&&e.push(r(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var r=function(e,t){for(var r={},n={start:{}},o=["start"],i=0;i<e.length;i++){for(var a=e[i],s=[],u=0;u<a.length;u++){var c=a[u],l=""+i+u;s.push(l),r[l]={node:c,lastCount:0},n[l]={};for(var f=0;f<o.length;f++){var d=o[f];r[d]&&r[d].node.mode===c.mode?(n[d][l]=v(r[d].lastCount+c.length,c.mode)-v(r[d].lastCount,c.mode),r[d].lastCount+=c.length):(r[d]&&(r[d].lastCount=c.length),n[d][l]=v(c.length,c.mode)+4+h.getCharCountIndicator(c.mode,t))}}o=s}for(f=0;f<o.length;f++)n[o[f]].end=0;return{map:n,table:r}}(function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];switch(n.mode){case h.NUMERIC:t.push([n,{data:n.data,mode:h.ALPHANUMERIC,length:n.length},{data:n.data,mode:h.BYTE,length:n.length}]);break;case h.ALPHANUMERIC:t.push([n,{data:n.data,mode:h.BYTE,length:n.length}]);break;case h.KANJI:t.push([n,{data:n.data,mode:h.BYTE,length:d(n.data)}]);break;case h.BYTE:t.push([{data:n.data,mode:h.BYTE,length:d(n.data)}])}}return t}(p(e,l.isKanjiModeEnabled())),t),n=f.find_path(r.map,"start","end"),o=[],i=1;i<n.length-1;i++)o.push(r.table[n[i]].node);return a.fromArray(o.reduce(function(e,t){var r=0<=e.length-1?e[e.length-1]:null;return r&&r.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(p(e,l.isKanjiModeEnabled()))}},{"./alphanumeric-data":15,"./byte-data":18,"./kanji-data":24,"./mode":26,"./numeric-data":27,"./regex":31,"./utils":33,dijkstrajs:10}],33:[function(e,t,r){var n,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];r.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},r.getSymbolTotalCodewords=function(e){return o[e]},r.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},r.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},r.isKanjiModeEnabled=function(){return void 0!==n},r.toSJIS=function(e){return n(e)}},{}],34:[function(e,t,i){var a=e("./utils"),s=e("./error-correction-code"),o=e("./error-correction-level"),u=e("./mode"),c=e("isarray"),r=a.getBCHDigit(7973);function l(e,t){return u.getCharCountIndicator(e,t)+4}function f(e,r){var n=0;return e.forEach(function(e){var t=l(e.mode,r);n+=t+e.getBitsLength()}),n}i.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40},i.from=function(e,t){return i.isValid(e)?parseInt(e,10):t},i.getCapacity=function(e,t,r){if(!i.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=u.BYTE);var n=8*(a.getSymbolTotalCodewords(e)-s.getTotalCodewordsCount(e,t));if(r===u.MIXED)return n;var o=n-l(r,e);switch(r){case u.NUMERIC:return Math.floor(o/10*3);case u.ALPHANUMERIC:return Math.floor(o/11*2);case u.KANJI:return Math.floor(o/13);case u.BYTE:default:return Math.floor(o/8)}},i.getBestVersionForData=function(e,t){var r,n=o.from(t,o.M);if(c(e)){if(1<e.length)return function(e,t){for(var r=1;r<=40;r++)if(f(e,r)<=i.getCapacity(r,t,u.MIXED))return r}(e,n);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,t,r){for(var n=1;n<=40;n++)if(t<=i.getCapacity(n,r,e))return n}(r.mode,r.getLength(),n)},i.getEncodedBits=function(e){if(!i.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=a.getBCHDigit(t)-r;)t^=7973<<a.getBCHDigit(t)-r;return e<<12|t}},{"./error-correction-code":19,"./error-correction-level":20,"./mode":26,"./utils":33,isarray:12}],35:[function(e,t,s){var l=e("./utils");s.render=function(e,t,r){var n=r,o=t;void 0!==n||t&&t.getContext||(n=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),n=l.getOptions(n);var i,a,s=l.getImageWidth(e.modules.size,n),u=o.getContext("2d"),c=u.createImageData(s,s);return l.qrToImageData(c.data,e,n),i=o,a=s,u.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px",u.putImageData(c,0,0),o},s.renderToDataURL=function(e,t,r){var n=r;void 0!==n||t&&t.getContext||(n=t,t=void 0),n||(n={});var o=s.render(e,t,n),i=n.type||"image/png",a=n.rendererOpts||{};return o.toDataURL(i,a.quality)}},{"./utils":37}],36:[function(e,t,r){var f=e("./utils");function d(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function h(e,t,r){var n=e+t;return void 0!==r&&(n+=" "+r),n}r.render=function(e,t,r){var n=f.getOptions(t),o=e.modules.size,i=e.modules.data,a=o+2*n.margin,s=n.color.light.a?"<path "+d(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+d(n.color.dark,"stroke")+' d="'+function(e,t,r){for(var n="",o=0,i=!1,a=0,s=0;s<e.length;s++){var u=Math.floor(s%t),c=Math.floor(s/t);u||i||(i=!0),e[s]?(a++,0<s&&0<u&&e[s-1]||(n+=i?h("M",u+r,.5+c+r):h("m",o,0),o=0,i=!1),u+1<t&&e[s+1]||(n+=h("h",a),a=0)):o++}return n}(i,o,n.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+c+">"+s+u+"</svg>";return"function"==typeof r&&r(null,l),l}},{"./utils":37}],37:[function(e,t,h){function o(e){if("string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}h.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&21<=e.width?e.width:void 0,n=e.scale||4;return{width:r,scale:r?4:n,margin:t,color:{dark:o(e.color.dark||"#000000ff"),light:o(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},h.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},h.getImageWidth=function(e,t){var r=h.getScale(e,t);return Math.floor((e+2*t.margin)*r)},h.qrToImageData=function(e,t,r){for(var n=t.modules.size,o=t.modules.data,i=h.getScale(n,r),a=Math.floor((n+2*r.margin)*i),s=r.margin*i,u=[r.color.light,r.color.dark],c=0;c<a;c++)for(var l=0;l<a;l++){var f=4*(c*a+l),d=r.color.light;if(s<=c&&s<=l&&c<a-s&&l<a-s)d=u[o[Math.floor((c-s)/i)*n+Math.floor((l-s)/i)]?1:0];e[f++]=d.r,e[f++]=d.g,e[f++]=d.b,e[f]=d.a}}},{}],38:[function(e,t,r){"use strict";var a=e("isarray");var n=(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())?2147483647:1073741823;function s(e,t,r){return s.TYPED_ARRAY_SUPPORT||this instanceof s?"number"==typeof e?c(this,e):function(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var o;o=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);s.TYPED_ARRAY_SUPPORT?o.__proto__=s.prototype:o=l(e,o);return o}(e,t,r,n);if("string"==typeof t)return function(e,t){var r=0|d(t),n=u(e,r),o=n.write(t);o!==r&&(n=n.slice(0,o));return n}(e,t);return function(e,t){if(s.isBuffer(t)){var r=0|i(t.length),n=u(e,r);return 0===n.length||t.copy(n,0,0,r),n}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?u(e,0):l(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return l(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,r):new s(e,t,r)}function i(e){if(n<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function u(e,t){var r;return s.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t)).__proto__=s.prototype:(null===(r=e)&&(r=new s(t)),r.length=t),r}function c(e,t){var r=u(e,t<0?0:0|i(t));if(!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function l(e,t){for(var r=t.length<0?0:0|i(t.length),n=u(e,r),o=0;o<r;o+=1)n[o]=255&t[o];return n}function f(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if(55295<(r=e.charCodeAt(a))&&r<57344){if(!o){if(56319<r){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&i.push(239,191,189);continue}o=r;continue}if(r<56320){-1<(t-=3)&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function d(e){return s.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:f(e).length)}s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),s.prototype.write=function(e,t,r){void 0===t?(r=this.length,t=0):void 0===r&&"string"==typeof t?(r=this.length,t=0):isFinite(t)&&(t|=0,isFinite(r)?r|=0:r=void 0);var n,o,i,a=this.length-t;if((void 0===r||a<r)&&(r=a),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return o=t,i=r,function(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}(f(e,(n=this).length-o),n,o,i)},s.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=s.prototype;else{var o=t-e;r=new s(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},s.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;0<=o;--o)e[o+t]=this[o+r];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},s.prototype.fill=function(e,t,r){if("string"==typeof e){if("string"==typeof t?(t=0,r=this.length):"string"==typeof r&&(r=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var i=s.isBuffer(e)?e:new s(e),a=i.length;for(o=0;o<r-t;++o)this[o+t]=i[o%a]}return this},s.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u(null,0);var r;if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;var n=c(null,t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},s.byteLength=d,s.prototype._isBuffer=!0,s.isBuffer=function(e){return!(null==e||!e._isBuffer)},t.exports=s},{isarray:12}],39:[function(e,t,r){(function(e){"use strict";t.exports="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],nebpay:[function(e,t,r){"use strict";var s=e("extend"),n=e("./libs/http"),o=e("./libs/config"),i=e("./libs/pay"),u=e("bignumber.js"),a="NAS",c=function(e,t){this._pay=new i(e,t)};c.config=o;c.prototype={pay:function(e,t,r){return r=s({goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,nrc20:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},r),this._pay.submit(a,e,t,{type:"binary"},r)},nrc20pay:function(e,t,r,n){n.nrc20&&0<n.nrc20.decimals&&(r=new u(r=r||"0").times(new u(10).pow(n.nrc20.decimals)).toString(10));var o="";n.nrc20&&n.nrc20.address&&(o=n.nrc20.address);var i=[t,r],a={type:"call",function:"transfer",args:JSON.stringify(i)};return n=s({goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,nrc20:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},n),this._pay.submit(e,o,"0",a,n)},deploy:function(e,t,r,n){var o={type:"deploy",source:e,sourceType:t,args:r};return n=s({goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,nrc20:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},n),this._pay.submit(a,"","0",o,n)},call:function(e,t,r,n,o){var i={type:"call",function:r,args:n};return o=s({goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,nrc20:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},o),this._pay.submit(a,e,t,i,o)},simulateCall:function(e,t,r,n,o){var i={type:"simulateCall",function:r,args:n};return(o=s({goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,nrc20:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},o)).qrcode.showQRCode=!1,o.mobile.showInstallTip=!1,o.extension.openExtension=!0,this._pay.submit(a,e,t,i,o)},queryPayInfo:function(e,t){var r=(t=s({goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,nrc20:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},t)).callback||o.payUrl(t.debug);return r=r+"/query?payId="+e,n.get(r)}},t.exports=c},{"./libs/config":3,"./libs/http":5,"./libs/pay":6,"bignumber.js":8,extend:11}]},{},[]);